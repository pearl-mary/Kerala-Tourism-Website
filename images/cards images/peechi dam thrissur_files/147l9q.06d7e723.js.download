(this.$WP=this.$WP||[]).push(["147l9q",(e,a)=>{"use strict";var r,i,t,l,s,d,n,o,c,u,m,h,p,v={__key:3853234311414,id:"038126a990f6491afcedad54d3db74d3",loc:{},definitions:[]},y={__key:34590253051575,id:"1f75abbeeeb7fc50046b029243616395",loc:{},definitions:[]},f="tVBNj PE Pc",g="AwJym",b="MyzfW H0 PP",I=()=>{var[,e]=t(y);return r(((a,r)=>{e({locationId:a,mediaId:r}).then((e=>{var a,r;if(e.error)console.error("SetPrimary call failed: ",e.error);else{var i=null==(a=e.data)||null==(r=a.PrimaryMedia_setStaffPrimaryMedia)?void 0:r[0];"ok"===(null==i?void 0:i.status)?alert("Success! Your new primary photo selection will take effect."):"higherPriorityExist"===(null==i?void 0:i.status)&&null!=i&&i.message&&alert(`Your curated photo selection has been saved, but it will not be shown. The current primary photo source is ${null==i?void 0:i.message}, which is higher priority.`)}}))}),[e])},P=({locationId:e,mediaId:a})=>{var{localize:r}=u(),[t,l]=i(!1),s=I(),d=r.string("set_primary_btn_label"),o=r.string("set_primary_btn_success");return p("div",{className:f,children:p(n,{variant:"secondary",size:"small",disabled:t,onClick:()=>{s(e,a),l(!0)},children:m("span",{className:g,children:[p("span",{className:b,children:p(c,{})}),t?o:d]})})})},w=({mediaId:e})=>{var[a,t]=i(!1),l=r((()=>{navigator.clipboard.writeText(String(e)).then((()=>t(!0)))}),[e]);return p("div",{className:f,children:p(n,{variant:"secondary",size:"small",disabled:a,onClick:l,children:m("span",{className:g,children:[p("span",{className:b,children:p(o,{})}),a?"Copied":"Copy media ID"]})})})},_=({mediaId:e})=>{var a,r=s(),i=d(),[{data:t}]=l({query:v,pause:null===i});if(!(null==t||null==(a=t.getProfile)?void 0:a.canSetPrimary))return null;var n=0;return"Tourism"===r.page?n=r.params.geoId:"Hotel_Review"===r.page?n=r.params.detailId:"AttractionProductReview"!==r.page&&"Attraction_Review"!==r.page||!r.params.detailId||(n=r.params.detailId),0===n||e<1?null:m(h,{children:[p(P,{locationId:n,mediaId:e}),p(w,{mediaId:e})]})};return[()=>{e({SetPrimaryAuthorizationQuery:v,default:_,useSetPrimaryCallback:I})},[e=>(r=e.useCallback,i=e.useState),e=>(t=e.useMutation,l=e.useQuery),e=>s=e.useRoute,e=>d=e.useUserId,e=>n=e.default,e=>o=e.default,e=>c=e.default,e=>u=e.useLocalize,e=>(m=e.jsxs,h=e.Fragment,p=e.jsx)]]},["1o4yt4","1mqwhq","fgwvq1","52far5","jppfwt","d5rizv","8slqg9","17thqz","121h32"]]);
