(this.$WP=this.$WP||[]).push(["80p4m1",(e,i)=>{"use strict";var t,r,n,a,l,o,s,d,c,u,h,p,m,v,_,f,g,T,y,b,k,I,N,w,C,E,x,P,S,M,R,A,L,D,V,O,z,W,$,U,j,H,B,F,q,Y,K,X,G,Q,Z,J,ee,ie,te,re,ne,ae,le,oe,se,de,ce,ue={sms:19907,email:55593,clipboard:19905},he=(e,i,t)=>{if("LinkPost"===i)return e;var r=`${-1!==e.indexOf("?")?"&":"?"}m=${t}`;return-1!==e.indexOf("#")?e.replace("#",`${r}#`):`${e}${r}`},pe=({url:e,itemType:i,itemId:t,action:r,type:n,children:a,disableMcidTracking:l})=>{var o=B(),s=e.startsWith("/")?`https://${o}${e}`:e,d=H({module:"ShareCta",action:r,context:`${i}|${t}|${s}`,value:n&&"repost_action"!==n?ue[n]:void 0});return S("div",{onClick:d,children:a(n&&"repost_action"!==n&&!l?he(s,i,ue[n]):s)})},me=({icon:e,localizedText:i,onClickFunction:t,size:r})=>M("li",{onClick:t,className:c("SuExf Wc _S",{UvFRL:"small"===r,BBBmx:"large"===r}),children:[S(e,{color:"primaryIcon",size:"large"===r?20:18}),S("span",{className:"wlvUx",children:i})]}),ve=({url:e,itemType:i,size:t})=>{var r,{localize:n}=g();return r="LinkPost"===i?n.string("share_sms_link"):"ReadTrip"===i?n.string("trips_share_email_subject"):"WriteTrip"===i?n.string("trips_collaborate_invite_email_subject"):n.string("link_share_sms_checkthisout"),S(J,{icon:Y,localizedText:n.string("link_share_option_sms"),size:t,onClickFunction:()=>((e,i)=>{var t=`${i} ${e}`;t.length>140&&(t=e),window.location.href=`sms:?&body=${encodeURIComponent(t)}`})(e,r)})},_e={__key:0x7e9642043432,id:"7e9642043432bc1a78fd7b4d4a9cb6ca",loc:{},definitions:[]},fe={__key:73064688853929,id:"4273b2d323a9147b50ffccf2e5def19c",loc:{},definitions:[]},ge={__key:80958082225922,id:"49a185bb9702c37da6ad8d473047d574",loc:{},definitions:[]},Te={__key:0x8cea94e914a2,id:"8cea94e914a248fc099226c65782acfb",loc:{},definitions:[]},ye={__key:0x9a40e09534cb,id:"9a40e09534cbfe935d21b1460866bf3d",loc:{},definitions:[]},be=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],ke=({url:e,subject:i,firstSentence:t,textBeforeLink:r,textAfterLink:n,size:a})=>{var{localize:l}=g();return S(J,{icon:X,localizedText:l.string("link_share_option_email"),size:a,onClickFunction:()=>((e,i,t,r,n,a)=>{var l=encodeURIComponent(i),o=encodeURIComponent(n),s=encodeURIComponent(a),d=encodeURIComponent(t||e("share_email_subject")),c=`${r||e("link_share_sms_checkthisout")}%0D%0A%0D%0A${o?`${o}%0D%0A`:""}${l}%0D%0A${s?`${s}%0D%0A`:""}%0D%0A${e("ib_share_booking_download_app")}%0D%0A${e("app_download_url_secure")}`;window.location.href=`mailto:?subject=${d}&body=${c}`})(l.string,e,i,t,r,n)})},Ie=e=>{var{localize:i}=g();if(be.indexOf(e.itemType)>-1)return S(K,{query:_e,variables:{locationId:e.itemId},children:({fetching:t,data:r})=>{var n,a;if(t||!r)return S(ke,{...e});var l=(null==(n=r.locations)||null==(a=n[0])?void 0:a.name)||"";return S(ke,{...e,subject:i.string("link_share_email_subject",{0:l}),firstSentence:i.string("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:l})}});if("Review"===e.itemType)return S(K,{query:fe,variables:{reviewId:e.itemId},children:({fetching:t,data:r})=>{var n,a;return S(ke,t||!r?{...e}:{...e,firstSentence:i.string("share_email_reviews"),textBeforeLink:(null==(n=r.reviews)||null==(a=n[0])?void 0:a.title)||""})}});if("Photo"===e.itemType)return S(K,{query:ge,variables:{id:e.itemId},children:({fetching:t,data:r})=>{var n;return S(ke,t||!r?{...e}:{...e,firstSentence:i.string("share_email_photos"),textBeforeLink:(null==(n=r.photos)?void 0:n[0].caption)||""})}});if("Video"===e.itemType)return S(K,{query:Te,variables:{id:e.itemId},children:({fetching:t,data:r})=>{var n;return S(ke,t||!r?{...e}:{...e,firstSentence:i.string("share_email_videos"),textBeforeLink:(null==(n=r.videos)?void 0:n[0].caption)||""})}});if("LinkPost"===e.itemType)return S(ke,{...e,subject:i.string("share_email_link_subject"),firstSentence:i.string("share_email_link"),textAfterLink:i.string("share_email_link_attribution")});if("ForumPost"===e.itemType)return S(ke,{...e,firstSentence:i.string("share_email_forumtopic")});if("ForumResponse"===e.itemType)return S(ke,{...e,firstSentence:i.string("share_email_forumreply")});if("WriteTrip"===e.itemType||"ReadTrip"===e.itemType){var t="WriteTrip"===e.itemType;return S(K,{query:ye,variables:{id:e.itemId},children:({fetching:r,data:n})=>{var a=e;if(!r&&n){var l,o=n.trips&&n.trips.find((i=>i.id===e.itemId)),s={tripName:o&&o.title||""},d=null==o||null==(l=o.owner)?void 0:l.isMe;a={...e,firstSentence:i.string("trips_share_email_hey"),subject:i.string("trips_share_email_subject"),textBeforeLink:i.string("trips_share_email_body_v2",s)},t?(a.subject=i.string("trips_collaborate_invite_email_subject"),a.textBeforeLink=d?i.string("trips_collaborate_invite_email_body_v2",s):i.string("trips_collaborate_invite_email_body_collaborator_version",s)):d||(a.subject=i.string("trips_share_email_subject"),a.textBeforeLink=i.string("trips_email_share_collaborator_version",s))}return S(ke,{...a})}})}return S(ke,{...e})},Ne=({url:e,itemType:i,itemId:t,disableMcidTracking:r,headerComponent:n,close:a})=>{var l=F();return M("div",{className:"sKepw",children:[n,"MOBILE"===l&&S(Z,{action:"share_select",itemType:i,itemId:t,url:e,type:"sms",disableMcidTracking:r,children:e=>S(ee,{url:e,itemType:i,size:"small"})}),S(Z,{url:e,itemType:i,itemId:t,action:"share_select",type:"email",disableMcidTracking:r,children:e=>S(ie,{url:e,itemType:i,itemId:Number(t),size:"small"})}),S(Z,{action:"share_select",itemType:i,itemId:t,url:e,type:"clipboard",disableMcidTracking:r,children:e=>S(te,{url:e,size:"small",close:a})})]})},we=({fixed:e,url:i,itemType:t,itemId:r,disableMcidTracking:n,shiftX:a,shiftY:l,children:o,headerComponent:s,alignEdge:d,above:c})=>S(q,{local:!0,closeButton:!1,fixed:e,above:c,below:!0,alignEdge:d,shiftX:a,shiftY:l,shiftArrow:a,arrowType:"small",contents:e=>S(Ne,{url:i,itemType:t,itemId:r,disableMcidTracking:n,headerComponent:s,close:e}),children:o}),Ce=({url:e,itemType:i,itemId:t,headerComponent:r,onClick:n,alignEdge:a,above:l,shiftX:o,shiftY:s,hideText:d,disableMcidTracking:c})=>S(re,{url:e,itemType:i,itemId:t,disableMcidTracking:c,shiftX:o,shiftY:s,headerComponent:r,alignEdge:a,above:l,children:(r,a)=>S(Z,{itemType:i,itemId:t,url:e,action:"share_button_click",disableMcidTracking:c,children:()=>S(Ee,{onClick:e=>{n&&n(e),a()},target:r,hideText:d})})}),Ee=({size:e="small",variant:i="clear-on-dark",onClick:t,target:r,hideText:n})=>{var{localize:a}=g(),l=a.string("link_share_share");return S(U,{size:e,variant:i,icon:j,onClick:t,ref:r,...n?{"aria-label":l}:{children:l}})},xe=({supplierCategory:e,provider:i,userPhotoUrl:t,userProfileUrl:r,userName:n,uploadedDate:a,hometown:l,contributionCount:o,type:s,attributionUrl:d,businessContact:c,controls:u})=>{var p=e,v=T(),_="TRAVELER"===e,f=a?`${v.formatDate("date_medium_month_year",new Date(a))}`:"",{localize:b}=g(),k=((e,i)=>{var t=E();switch(e){case"OWNER":return null;case"STAFF":return`${t}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`;default:return i}})(p,t),I=null===k&&"OWNER"===p,N=n,w=!1;if("OWNER"===p){w=!0;var C=null==i?void 0:i.name;if(C&&m.has(C)){if("BOOKINGCOM"===C)return M("div",{className:"f k",children:[M("div",{children:[S("a",{href:d,target:"_blank",children:S("div",{className:"mEkZD Cf",children:M(h,{elementType:"div",variant:"title-05",color:"onDarkText",children:[b("Photoviewer_dmoPhotoCaption_v2",{0:String(m.get(C)),1:""}),S(x,{})]})})}),S("span",{className:"ZVoFr n",children:f})]}),u]});N=b.string("Photoviewer_mgmtFilter")}else N=b.string("Photoviewer_mgmtFilter")}else if("STAFF"===p)N=b.string("phoenix_mediaviewer_professional_attribution");else if(_&&!N)return null;"pano"===s&&(N=b.string("phoenix_mediaviewer_professional_attribution"),w=!1);var A=`${N||""}${f&&` • ${f}`}`,L=w&&c&&c();return M("div",{className:"f k",children:[S(P,{variant:"two-line",theme:"on-dark",profileInfo:[{displayName:A,avatarSource:k||void 0,profileHref:r||void 0}],suppressAvatar:I,additionalInfo1:M(R,{children:[L," ",_&&M(h,{elementType:"div",variant:"supporting-01",color:"onDarkText",marginRight:"spacing-03",children:[!!l&&S("span",{children:l}),!!l&&!!o&&S("span",{children:"  •  "}),!!o&&S(y,{id:"hotels_n_contributions_plural",args:{0:"",1:o}})]})," "]})}),u]})},Pe="uAQKD W",Se="down",Me="hidden",Re="0.1s",Ae=({caption:e,isPhotoOnly:i,review:t,userPhotoUrl:o,userProfileUrl:s,userName:d,uploadedDate:u,contributionCount:h,showOverlay:p,provider:m,parentHeight:_,trackingCallback:f})=>{var b=I(),[k,w]=r(!1),[C,E]=r(Me),{localize:x}=g(),O=T(),z=null==m?void 0:m.name,W=z&&v.get(z),$=!i&&!!t&&!(null==t||!t.title),U=!!e,j=$&&!(null==t||!t.text),H=n(null);a((()=>{j||E(Me)}),[t,j]),a((()=>E(Me)),[p]);var B=l((()=>{w(!0),E(Se),null==f||f("MediaViewer_ReviewClick"),b(N.DETAIL_VIEW_REVIEW_CLICK)}),[b,f]),F=l((()=>{null==f||f("MediaViewer_ReviewCloseClick"),E(Me),H.current&&(H.current.scrollTop=0),w(!1)}),[f]),[q,Y]=r(!1),K=n(null),[X,G]=r(0),[Q,Z]=r(0),J=D(),ee=V(),ie=J.width>=768&&!ee,te=null==t?void 0:t.rating;if(U&&!$)return M("div",{className:"Lblgn",children:[S("div",{children:e}),W?S("span",{className:"jTwNy",children:x("mediaviewer_mediasource",{sourceName:W})}):null]});var re,ne=K.current?((e,i,t)=>{switch(t){case Me:return`translateY(${e+i}px)`;case Se:return`translateY(${e/2+i}px)`;case"up":return`translateY(${i}px)`;default:return"translateY(100%)"}})(K.current.clientHeight,Q,C):"translateY(100%)",ae=K.current?(re=K.current.clientHeight,C===Se&&Q>=0?re/2-104+"px":re-104+"px"):"auto",le=C===Me?"0":"1";return M("div",{className:c("qnGvM",k?"kWQgV":null),onClick:B,children:[!!te&&S("div",{className:"prLLg",children:S(A,{rating:te})}),j?M(R,{children:[S("div",{className:Pe,children:null==t?void 0:t.text}),S("div",{className:c("WBTsa _Q s _U",k?null:"KKgmN"),onClick:e=>{e.stopPropagation(),F()},onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:F,style:{height:_},children:M("div",{className:c("nvSUG _Q s"),ref:e=>{K.current=e},onTouchStart:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),style:{transform:ne,opacity:le},children:[M("div",{className:c("wRGmw",ie?"UGmCR":null),onTouchStart:e=>{e.stopPropagation(),1===e.touches.length&&(Y(!0),G(e.touches[0].clientY))},onTouchMove:e=>{if(q&&K.current){var i=e.touches[0].clientY-X;(i>=0||!ie)&&(K.current.style.transitionDuration=Re,t=i,(r=K.current)&&(r.style.transitionDuration=Re,Z(t)))}var t,r},onTouchEnd:e=>{e.stopPropagation(),Y(!1),K.current&&(K.current.style.transitionDuration="0.3s"),Q>100?F():Q<0&&!ie&&(E("up"),b(N.DETAIL_VIEW_REVIEW_TRAY_EXPANSION)),G(0),Z(0)},children:[!ie&&S("div",{className:"NDnLU _Q Md"}),S(P,{variant:"three-line",profileInfo:[{displayName:d||x.string("mediaviewer_a_tripadvisor_member_capitalized"),avatarSource:o||void 0,profileHref:s||void 0}],additionalInfo1:S("span",{className:"nlMdx",children:`${x.string("mediaviewer_wrote_a_review",{date:u?`${O.formatDate("date_medium_month_year",new Date(u))}`:""})}`}),additionalInfo2:S("span",{className:"IGLPk",children:!!h&&S(y,{id:"hotels_n_contributions_plural",args:{0:"",1:h}})})}),S("div",{className:"FjyXT _Q _U",onClick:e=>{e&&e.stopPropagation(),F()},children:S(L,{})})]}),M("div",{className:"HacNA",ref:e=>{H.current=e},onTouchEnd:e=>{e&&e.stopPropagation(),b(N.DETAIL_VIEW_REVIEW_SCROLL)},style:{height:ae},children:[!!te&&S("div",{className:"LyNMu",children:S(A,{rating:te})}),M("div",{className:"JOgTx _c",children:[S("span",{className:"kZMaN b",children:null==t?void 0:t.title}),S("p",{children:null==t?void 0:t.text})]})]})]})})]}):S("div",{className:Pe,children:null==t?void 0:t.title})]})},Le=({helpfulCount:e,mediaId:i,locationId:t,mediaWithHelpfulVote:r,providerName:n,mediaType:a,displayReportBtn:o=!0,displayHelpfulBtn:s=!0,trackingCallback:d})=>{var c=I(),u=W(),h=l((()=>{fetch(`/VideoController?a=vt&ff=${i}&vote=5&detail=${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-By":encodeURIComponent(u)},credentials:"same-origin"}),r&&r.add(i),null==d||d("MediaViewer_HelpfulReviewVoteClick"),c(N.HELPFUL_VOTE_CLICK,{providerName:n})}),[u,t,i,r,n,c,d]),p=!1;"p"===a?p="Photo":"v"===a&&(p="Video");var m=l((()=>{null==d||d("MediaViewer_ReportReviewClick"),c(N.REPORT_PANEL_SHOWN)}),[c,d]);return S("div",{className:"oOTRI",children:M("div",{className:"Ntyrm f u I",children:[s?S("div",{className:"wNwSc _S H2 Vm b",onClick:h,children:S(O,{count:e,alreadyVoted:r&&r.has(i),onClick:h,showHelpfulText:!1})}):null,o&&p?S("div",{className:"WSMnQ _S",children:S(z,{contentId:i,contentType:p,onClick:m,hideTitle:!0})}):null,S($,{mediaId:i})]})})},De="jnVMO",Ve="vnQks",Oe="afDxN",ze="WjTcr",We="Gwltj F0",$e="Y S",Ue="ENXiD",je="HKjKC",He="mprJp Cf _S",Be=({media:e,onSwipeLeft:i,onSwipeRight:t,onFullscreenMedia:o,totalMediaInfo:p,goBackNode:m,locationId:v,mediaWithHelpfulVote:f,exit:T,shareUrl:y,innateTranslations:E=!0,businessContact:x,isActiveViewer:P=!0,trackingCallback:R})=>{var A,L,D,V,O,z,W,$,U,j,H,B,F,q,Y,K,X,G,Q,Z,J,ee,{family:ie}=w().browser,{family:te}=w().os,re=I(),ue=e=>{R&&R(e)},he=n(null),[pe,me]=r(!0),[ve,_e]=r(!1),[fe,ge]=r(!1),[Te,ye]=r(!1),[be,ke]=r(!1),[Ie,Ne]=r("undefined"!=typeof window?window.innerHeight:0),{localize:we}=g();a((()=>{var e=()=>{if(he.current){var e=he.current;Ne(e.clientHeight)}};return document.addEventListener("transitionend",e),()=>{document.removeEventListener("transitionend",e)}}),[]);var Ce=e.mediaId&&e.mediaId<0,Ee="pano"===e.type,xe="p360"===e.type,Pe="v"===e.type,Se=n((()=>{})),Me=l((e=>{o&&o(e)}),[o]),Re=l((()=>{Me(!1),re(N.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),ve&&_e(!1)}),[Me,ve,re]),Ae=l((()=>{Me(!1),re(N.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),fe&&ge(!1)}),[Me,fe,re]),Le=u((e=>{ke(e)}),-20);a((()=>{!be&&Ee&&ve?Re():!be&&xe&&fe?Ae():!be&&Pe&&Se.current()}),[be,Ee,xe,Pe,ve,Re,fe,Ae]);var Be=null==(A=e.provider)?void 0:A.name;a((()=>{re(N.DETAIL_VIEW,{compoundMediaId:{id:e.mediaId,type:e.type},providerName:Be})}),[e.mediaId,Be,e.type,re]);var Fe=n(!1),qe=l((()=>{Fe.current=!0}),[]),Ye=l((()=>{Fe.current=!1}),[]),Ke=s((()=>e=>{e.preventDefault(),Fe.current&&(Fe.current=!1,me((e=>!e)))}),[]);a((()=>{re(N.DETAIL_VIEW_IMAGE_TAP_HIDE,{isMWRedesign:!0,detailsWereShown:pe})}),[pe,re]);var Xe=n(!1),Ge=l((()=>{Xe.current=!0}),[]),Qe=l((()=>{Xe.current=!1}),[]),Ze=s((()=>e=>{e&&e.preventDefault(),"IE"!==ie&&Xe.current&&(Xe.current=!1,_e((e=>(Me(!e),!e))))}),[ie,Me]);a((()=>{re(N.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:ve})}),[ve,re]);var Je,ei,ii,ti,ri=n(!1),ni=l((()=>{ri.current=!0}),[]),ai=l((()=>{ri.current=!1}),[]),li=s((()=>e=>{e&&e.preventDefault(),ri.current&&(ri.current=!1,ge((e=>(re(N.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!e}),Me(!e),!e))))}),[Me,re]),oi=e.supplierCategory?e.supplierCategory:"OWNER",si=null==(L=e.userProfile)||null==(D=L.avatar)||null==(V=D.photoSizes)||null==(O=V[1])?void 0:O.url;!si&&null!=(z=e.userProfile)&&null!=(W=z.avatar)&&null!=($=W.photoSizes)&&null!=(U=$[0])&&U.url&&(si=null==(Je=e.userProfile)||null==(ei=Je.avatar)||null==(ii=ei.photoSizes)||null==(ti=ii[0])?void 0:ti.url);var di,ci=e.uploadDate,ui=null==(j=e.userProfile)||null==(H=j.hometown)||null==(B=H.location)?void 0:B.additionalNames.long,hi=null==(F=e.userProfile)||null==(q=F.contributionCounts)?void 0:q.sumAllUgc,pi=M("div",{className:c("yylSn Cf s V",pe?null:$e),children:[S(ae,{supplierCategory:oi,provider:e.provider,userPhotoUrl:si,userProfileUrl:null==(Y=e.userProfile)||null==(K=Y.route)?void 0:K.url,userName:null==(X=e.userProfile)?void 0:X.displayName,uploadedDate:ci,hometown:ui,contributionCount:hi,type:e.type,attributionUrl:e.providerAttributionUrl,businessContact:x,controls:P&&S(oe,{helpfulCount:e.thumbsUpVotes||0,locationId:v,mediaId:e.mediaId,mediaWithHelpfulVote:f,providerName:null==(G=e.provider)?void 0:G.name,mediaType:e.type,displayReportBtn:!(Ce||Ee||xe||Be&&_.has(Be)),displayHelpfulBtn:!(Ee||xe||Ce)&&void 0!==e.thumbsUpVotes&&null!==e.thumbsUpVotes,trackingCallback:R})}),e.review||e.caption?S(le,{caption:e.caption,isPhotoOnly:null==(Q=e.review)?void 0:Q.isPhotoOnly,review:e.review,userPhotoUrl:si,userProfileUrl:null==(Z=e.userProfile)||null==(J=Z.route)?void 0:J.url,userName:null==(ee=e.userProfile)?void 0:ee.displayName,uploadedDate:ci,contributionCount:hi,showOverlay:pe,provider:e.provider,parentHeight:Ie,trackingCallback:R}):S("div",{className:"plKkR"})]}),mi=()=>{var i,t,r,n;return null!=(i=e.review)&&i.id?(n="review",r=e.review.id):"p"===e.type?(n="photo",r=e.mediaId):"v"===e.type&&(n="video",r=e.mediaId),S("div",{className:c("nlMDx Cf",{[$e]:!pe}),children:M("span",{className:"pzMWZ u",children:[S(h,{variant:"supporting-01",elementType:"span",color:"onDarkText",children:we("hotels_mobile_xofy",{0:p.selectedIndex+1,1:p.totalCount})}),y&&S(ne,{url:y,alignEdge:"right",itemId:`${v}`,itemType:"media",shiftY:2,hideText:!0,disableMcidTracking:!0,onClick:()=>ue("MediaViewer_ShareClick")}),!Ce&&"BOOKINGCOM"!==(null==(t=e.provider)?void 0:t.name)&&null!=n&&null!=r&&S(C,{type:n,id:r,size:"small",variant:"clear-on-dark",position:"static",onClick:()=>ue("MediaViewer_SaveClick")})]})})},vi=m&&S("div",{className:c("qecZS",pe?null:$e),children:m}),[_i,fi]=r(!1),gi={x:0,y:0},[Ti,yi]=r(gi),[bi,ki]=r(gi),[Ii,Ni]=r(null),wi=e=>{1===e.touches.length&&(fi(!0),yi({x:e.touches[0].clientX,y:e.touches[0].clientY}))},Ci=e=>{if(Ye(),Qe(),ai(),_i){var i=e.touches[0].clientX-Ti.x,t=e.touches[0].clientY-Ti.y;Ii||(Math.abs(i)+5>=Math.abs(t)?Ni("x"):Ni("y")),E&&((e,i,t,r)=>{if(r)if("x"===e){var n=0;i>0&&p.selectedIndex>0?n=Math.min(i,60):i<=0&&p.selectedIndex+1<p.totalCount&&(n=Math.max(i,-60)),r.style.transform=`translateX(${n}px`}else{var a;a=t>0?Math.min(t,60):Math.max(t,-60),r.style.transform=`translateY(${a}px`}})(Ii,i,t,he.current),ki("x"===Ii?{x:i,y:0}:{x:0,y:t})}},Ei=()=>{fi(!1),"x"===Ii?(bi.x<-50&&i(),bi.x>50&&t()):"y"===Ii&&Math.abs(bi.y)>80&&T&&T(),he.current&&(he.current.style.transform=""),yi(gi),Ni(null)};return di=Ee?(({mediaId:i,cdnPath:t})=>ve&&t?S(se,{uniqueId:"MediaViewer_MWRedesign",oysterCdnPath:t,format:"OYSTER_LEGACY",mediaId:i,className:Ue,children:S("div",{className:je,children:S("span",{className:He,onClick:()=>{Me(!1),re(N.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),_e(!1)},children:S(b,{})})})}):M("div",{className:De,children:[S("div",{className:Ve,onTouchStart:qe,onTouchEnd:Ke,onMouseDown:qe,onMouseUp:Ke,children:S("div",{className:Oe,onTouchStart:wi,onTouchEnd:Ei,onTouchMove:Ci,children:S("div",{className:ze,ref:e=>{he.current=e},children:M("div",{className:We,children:[S(de,{}),S("div",{className:"auTSm u F0 _S",onTouchStart:()=>{Ge(),Ye()},onTouchEnd:e=>{Ze(e),Ei()},onClick:e=>{Xe.current=!0,Ze(e),Ei()},children:S(d,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),mi(),pi,vi]}))(e):xe?(({mediaId:i,photoSizes:t,photo360Format:r})=>fe&&i&&t&&t.length&&r&&"SPHERE"===r?S(se,{uniqueId:"MediaViewer_MWRedesign",photo360Sizes:t,format:"PHOTO_360_SPHERE",mediaId:i,className:Ue,children:S("div",{className:je,children:S("span",{className:He,onClick:()=>{Me(!1),re(N.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),ge(!1)},children:S(k,{})})})}):M("div",{className:De,children:[S("div",{className:Ve,onTouchStart:qe,onTouchEnd:Ke,children:S("div",{className:Oe,onTouchStart:wi,onTouchEnd:Ei,onTouchMove:Ci,children:S("div",{className:ze,ref:e=>{he.current=e},children:M("div",{className:We,children:[S(de,{}),S("div",{className:"EQQVl u F0 _S",onTouchStart:()=>{ni(),Ye()},onTouchEnd:e=>{li(e),Ei()},onClick:e=>{ri.current=!0,li(e),Ei()},children:S(d,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),mi(),pi,vi]}))(e):M("div",Pe?{className:De,children:[S("div",{className:Ve,children:S("div",{className:Oe,onTouchStart:wi,onTouchEnd:Ei,onTouchMove:Ci,children:S("div",{className:ze,children:S(ce,{selectedMedia:e,autoplay:!1,inactivityTimeout:0,userIsActive:Te,onPlay:()=>{ye(!0),me(!1)},onPause:()=>{ye(!1),me(!0)},onFullscreenChange:e=>Me(e),showControls:!pe,videoPauseSetCallback:e=>{Se.current=e},poster:"IOS"===te?e.photoSizes[0].url:""},e.mediaId)})})}),mi(),pi,vi]}:{className:De,children:[S("div",{className:Ve,onTouchStart:qe,onTouchEnd:Ke,onMouseDown:qe,onMouseUp:Ke,children:S("div",{className:Oe,onTouchStart:wi,onTouchEnd:Ei,onTouchMove:Ci,children:S("div",{className:ze,ref:e=>{he.current=e},children:S("div",{className:We,children:S("div",{className:"PvuVr u F0",children:S(d,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})})})})}),mi(),pi,vi]}),S("div",{className:"KzSsT",ref:e=>{Le.current=e},children:di})};return[()=>{pe.defaultProps={type:null,disableMcidTracking:!1},Z=pe,me.defaultProps={onClickFunction:()=>!1},J=me,ee=ve,ke.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},ie=Ie,te=class extends t{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{var t=G.copy(e);return t&&(this.setState({copied:!0}),setTimeout((()=>i()),3e3)),t}}render(){return S(J,{icon:Q,size:this.props.size,localizedText:this.state.copied?S(f,{id:"link_share_link_copied"}):S(f,{id:"link_share_option_clipboard"}),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,this.props.close)})}},we.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"},re=we,Ce.defaultProps={headerComponent:null,onClick:void 0,above:!1,shiftX:6,shiftY:4},ne=Ce,ae=xe,le=Ae,oe=Le,se=p((()=>i("1mpw0w")),"KRPano"),de=p((()=>i("1mpw0w")),"PanoIcon"),ce=p((()=>i("aqlqst")),"VideoPlayer"),e("MWDetailViewer",o(Be))},[e=>(t=e.Component,r=e.useState,n=e.useRef,a=e.useEffect,l=e.useCallback,o=e.memo,s=e.useMemo),e=>d=e.default,e=>c=e.default,e=>u=e.useVisibleEffect,e=>h=e.default,e=>p=e.onComponentUsage,e=>(m=e.externalProviders,v=e.explicitlyCreditedProviders,_=e.noReportBtnProviders),e=>(f=e.default,g=e.useLocalize,T=e.useIntlFormatter,y=e.UnsafeLocalize),e=>b=e.default,e=>k=e.default,e=>(I=e.useMVTracking,N=e.trackedPageActions),e=>w=e.useUserAgent,e=>C=e.default,e=>E=e.useCdnPrefix,e=>x=e.default,e=>P=e.default,e=>(S=e.jsx,M=e.jsxs,R=e.Fragment),e=>A=e.BubbleRating,e=>L=e.default,e=>(D=e.useViewport,V=e.useTouchEnabled),e=>(O=e.HelpfulButton,z=e.ReportButton),e=>W=e.useSecurityToken,e=>$=e.default,e=>U=e.CircularButton,e=>j=e.default,e=>H=e.useGARecordCallback,e=>B=e.useDomainName,e=>F=e.useViewportCategory,e=>q=e.default,e=>Y=e.default,e=>K=e.Query,e=>X=e.default,e=>G=e.default,e=>Q=e.default]]},["1o4yt4","34bu7w","fkji80","13btuy","1essqv","1q7wvk","13w1vr","17thqz","1i0z8n","17nq86","1eucgl","1nnprh","1dpzon","1s6q22","1evvug","1dpmjf","121h32","1bkeq2","1qkjm8","bnv2ns","de5kvz","ahlu9q","147l9q","jppfwt","1vgfso","32pwc7","qlcuu5","1ys6v1","14q9l4","hfmoib","1mqwhq","1gjtat","yjij17","1ue3yk"]]);
