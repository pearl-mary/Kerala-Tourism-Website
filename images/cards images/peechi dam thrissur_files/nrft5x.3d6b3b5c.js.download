(this.$WP=this.$WP||[]).push(["nrft5x",(e,l)=>{"use strict";var r,a,t,i,n,s,u,d,c,o,m,p,_,h,f,b,g,v,I,L,A,C,y,S,E,M,N,T,R,k=({selectedSourceId:e,sourceCounts:l,onSelect:r})=>{var{localize:a}=v(),i=t((()=>{if(!l)return[];var e=[];return Object.keys(l).includes(d.all2)&&l[d.all2]>0?e.push(d.all2):Object.keys(l).includes(d.all)&&l[d.all]>0&&e.push(d.all),Object.keys(l).includes(d.traveler)&&l[d.traveler]>0&&e.push(d.traveler),Object.keys(l).includes(d.mgmt)&&l[d.mgmt]>0&&e.push(d.mgmt),Object.keys(l).includes(d.staff)&&l[d.staff]>0&&e.push(d.staff),2===e.length&&e.shift(),e.filter((l=>!(2===e.length&&(l===d.all||l===d.all2)))).map((e=>({value:e,displayName:a.string("mv_photos_from_with_count",{source:c(o(e),a),count:l[e]})})))}),[l,a]);if(0===i.length)return null;var n=i.find((l=>l.value===m[e]))?m[e]:i[0].value;return I("div",{className:"d",children:I(u,{label:a.string("hr_mediaviewer_filter_by_label"),trigger:"chip",options:i,value:n,onChange:e=>r(p[e]),fullscreenMobile:!0})})},O=({expanded:e,onClick:l})=>I(M,{onClick:l,children:I("span",{className:"f u",children:L(A,e?{children:[I("span",{className:"PO",children:I(g,{id:"mv_hide_filters"})}),I(E,{})]}:{children:[I("span",{className:"PO",children:I(g,{id:"mv_see_all_filters"})}),I(S,{})]})})}),w=({name:e,count:l,onSelect:r,selected:a})=>{var{localize:t}=v();if(!l)return null;var i=t.string("phoenix_accessibility_apply_filter_label",{0:e});return I(N,{selected:a,onClick:r,"aria-label":i,marginX:"spacing-01",marginBottom:"spacing-02",children:I(g,{id:"airm_geo_fffff486",args:{0:e,1:l}})})},B=({albums:e,selectedTypeId:l,selectedFilterId:r,selectedAlbumId:a,onSelect:t,onExpandChange:u})=>{var d,c=C(),o=e,m=i(!0),[b,g]=n(!1);d=l===p.ALL_INCLUDING_RESTRICTED||l===p.ALL_UNRESTRICTED?_(p.ALL_UNRESTRICTED):_(l);var v=h.has(a)||r===f.PANO_ALBUM;if(v){var A=e.find((e=>e.albumId===r));A&&(o=[A])}var S=e=>()=>t(e),E=o.filter((e=>e.mediaCounts[d]>0));s((()=>{g(!1),m.current=!0,u(m.current)}),[a,u]),s((()=>{var e=1===E.length;v||e?(g(!0),m.current=!1):m.current=!0}),[a,v,E]);var M=I(T,{expanded:b,onClick:()=>(c(b?y.HIDE_FILTERS_CLICK:y.SEE_ALL_FILTERS_CLICK),g(!b))});if(!b){var N=E.filter((e=>e.albumId===r||r===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS));return L("span",{children:[N.map((e=>I("span",{className:"C",children:I(R,{name:e.name,count:e.mediaCounts[d],onSelect:S(e.albumId),selected:!0},e.albumId)},`span-${e.albumId}`))),m.current&&I("span",{className:"PC",children:M})]})}return L("div",{className:"C",children:[E.map((e=>{if(a!==f.VIDEO&&e.albumId===f.VIDEO||r!==f.PANO_ALBUM&&e.albumId===f.PANO_ALBUM)return null;var l=e.albumId===r||r===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS;return I(R,{name:e.name,count:e.mediaCounts[d],onSelect:S(e.albumId),selected:l},e.albumId)})),m.current&&I("div",{children:M})]})},D=({selectedSort:e,onSelect:l})=>{var{localize:r}=v(),a=t((()=>[{value:b.ML,displayName:r.string("hr_mediaviewer_filter_by_featured")},{value:b.RECENCY,displayName:r.string("hr_mediaviewer_filter_by_recency")}]),[r]);return I(u,{label:r.string("hr_mediaviewer_sort_by_label"),options:a,value:e,onChange:l,menuVariant:"trailing-top-caret",trigger:"chip",fullscreenMobile:!0})},P=(e,l,t,i,n,s)=>{var u={locationId:e,albumId:l,client:t,filter:i,configuration:n},[d]=r({query:a,variables:u,pause:s}),{data:c}=d;return c};return[()=>{T=O,R=w,e({AlbumPills:B,SortDropdown:D,SourceFilterDropdown:k,useMASFilters:P})},[e=>r=e.useQuery,e=>a=e.quickAlbumsQuery,e=>(t=e.useMemo,i=e.useRef,n=e.useState,s=e.useLayoutEffect),e=>u=e.DropdownMenu,e=>(d=e.mediaGroups,c=e.getTitleForMediaGroup,o=e.getMediaGroupForString,m=e.idToMediaGroup,p=e.mediaGroupIds,_=e.getMediaGroupStringForId,h=e.categoryIdsThatAreAlbumIdsSet,f=e.AlbumTypes,b=e.mediaSortType),e=>(g=e.default,v=e.useLocalize),e=>(I=e.jsx,L=e.jsxs,A=e.Fragment),e=>(C=e.useMVTracking,y=e.trackedPageActions),e=>S=e.default,e=>E=e.default,e=>M=e.BorderlessButton,e=>N=e.ChipButton]]},["1mqwhq","cboiod","1o4yt4","1ntn26","13w1vr","17thqz","121h32","1eucgl","1i0z8n","14ilds","jppfwt","1b1clj"]]);
